#include <stdio.h>
#define max 5
void enqueue(int queue[],int *front , int *rear , int item){
    if((*rear == max && *front == 1) || (*front == *rear +1)){
        printf("OVERFLOW!! \n");
        return;
    } 
    if(*front == -1 && *rear == -1){
        *rear = *front = 0;
    }
    else if(*rear == max-1){
        *rear = 0;
    }
    else *rear +=1;
    queue[*rear]=item;
}
void enqueueFront(int queue[],int *front , int *rear , int item){
    if((*rear == max && *front == 1) || (*front == *rear +1)){
        printf("OVERFLOW!! \n");
        return;
    } 
    if(*front == -1 && *rear == -1){
        *rear = *front = 0;
    }
    else if(*front == 1){
        *front = max-1;
    }
    else *front =*front - 1;
    queue[*front]=item;
}
int dequeue(int queue[] , int *front , int *rear ){
    if(*front == -1 && *rear == -1){
        printf("UNDERFLOW!!\n");
        return -1 ;
    }
    int value = queue[*front];
    if (*front == *rear){
        *front = *rear = -1;
    }
    else if ( *front == max-1 ){
        *front = 0;
    }
    else *front = *front + 1;
    return value;
}
int dequeueRear(int queue[] , int *front , int *rear ){
    if(*front == -1 && *rear == -1){
        printf("UNDERFLOW!!\n");
        return -1 ;
    }
    int value = queue[*rear];
    if (*front == *rear){
        *front = *rear = -1;
    }
    else if ( *rear == 0 ){
        *rear = max-1;
    }
    else *rear = *rear - 1;
    return value;
}
void display(int a[],int front ,int rear){
    if(front<rear){
        for(int i=front; i<=rear; i++){
            printf("%d ",a[i]);
        }
        printf("\n");
    }else{
        for(int i=front; i<max; i++){
            printf("%d ",a[i]);
        }
        for(int i=0; i<=rear; i++){
            printf("%d ",a[i]);
        }
        printf("\n");
    }
}
int main() {
    int queue [max];
    int front = -1 , rear = -1;
    enqueue(queue,&front,&rear,14);
    printf("%d front , %d rear\n",front , rear);
    enqueue(queue,&front,&rear,12);
    printf("%d front , %d rear\n",front , rear);
    enqueue(queue,&front,&rear,10);
    printf("%d front , %d rear\n",front , rear);
    enqueue(queue,&front,&rear,5);
    display(queue , front ,rear);
    printf("%d front , %d rear\n",front , rear);
    dequeue(queue,&front,&rear);
    printf("%d front , %d rear\n",front , rear);
    dequeue(queue,&front,&rear);
    display(queue ,front, rear);
    printf("%d front , %d rear\n",front , rear);
    enqueue(queue,&front,&rear,12);
    display(queue ,front, rear);
    printf("%d front , %d rear\n",front , rear);
    enqueue(queue,&front,&rear,50);
    display(queue , front ,rear);
    printf("%d front , %d rear\n",front , rear);
    dequeueRear(queue,&front,&rear);
    display(queue , front ,rear);
    printf("%d front , %d rear\n",front , rear);
    enqueueFront(queue,&front,&rear,60);
    display(queue , front ,rear);
    printf("%d front , %d rear\n",front , rear);
    

    return 0;
}
